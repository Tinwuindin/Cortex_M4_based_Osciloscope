/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/osc_screen/OscViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <images/BitmapDatabase.hpp>

OscViewBase::OscViewBase() :
    flexButtonCallback(this, &OscViewBase::flexButtonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 320, 240);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    dynamicGraph1.setPosition(0, 0, 320, 150);
    dynamicGraph1.setScale(100);
    dynamicGraph1.setGraphAreaMargin(0, 0, 0, 0);
    dynamicGraph1.setGraphAreaPadding(0, 0, 0, 0);
    dynamicGraph1.setGraphRangeY(0.0f, 3.4f);
    dynamicGraph1MajorXAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    dynamicGraph1MajorXAxisGrid.setInterval(64);
    dynamicGraph1MajorXAxisGrid.setLineWidth(1);
    dynamicGraph1MajorXAxisGrid.setScale(100);
    dynamicGraph1.addGraphElement(dynamicGraph1MajorXAxisGrid);

    dynamicGraph1MajorYAxisGrid.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    dynamicGraph1MajorYAxisGrid.setInterval(1);
    dynamicGraph1MajorYAxisGrid.setLineWidth(1);
    dynamicGraph1MajorYAxisGrid.setScale(100);
    dynamicGraph1.addGraphElement(dynamicGraph1MajorYAxisGrid);

    dynamicGraph1Line1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 194, 51));
    dynamicGraph1Line1.setPainter(dynamicGraph1Line1Painter);
    dynamicGraph1Line1.setLineWidth(2);
    dynamicGraph1.addGraphElement(dynamicGraph1Line1);

    dynamicGraph1VerticalFrontline.setColor(touchgfx::Color::getColorFromRGB(20, 151, 197));
    dynamicGraph1VerticalFrontline.setGapLineWidth(1);
    dynamicGraph1.addGraphElement(dynamicGraph1VerticalFrontline);


    add(dynamicGraph1);

    flexButton1.setBoxWithBorderPosition(0, 0, 50, 26);
    flexButton1.setBorderSize(5);
    flexButton1.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(0, 102, 153), touchgfx::Color::getColorFromRGB(0, 153, 204), touchgfx::Color::getColorFromRGB(0, 51, 102), touchgfx::Color::getColorFromRGB(51, 102, 153));
    flexButton1.setText(TypedText(T___SINGLEUSE_UF9O));
    flexButton1.setTextPosition(0, 5, 50, 26);
    flexButton1.setTextColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255));
    flexButton1.setAction(flexButtonCallback);
    flexButton1.setPosition(0, 214, 50, 26);
    add(flexButton1);

    menos.setDelay(1);
    menos.setInterval(1);
    menos.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_CONTENT_REMOVE_CIRCLE_50_50_E8F6FB_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_DONE_50_50_E8F6FB_SVG_ID));
    menos.setIconXY(0, 0);
    menos.setAction(flexButtonCallback);
    menos.setPosition(90, 174, 50, 50);
    add(menos);

    mas.setDelay(1);
    mas.setInterval(1);
    mas.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_CONTENT_ADD_CIRCLE_50_50_E8F6FB_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_DONE_50_50_E8F6FB_SVG_ID));
    mas.setIconXY(0, 0);
    mas.setAction(flexButtonCallback);
    mas.setPosition(180, 174, 50, 50);
    add(mas);
}

OscViewBase::~OscViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void OscViewBase::setupScreen()
{

}

void OscViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &flexButton1)
    {
        //Go_home
        //When flexButton1 clicked change screen to Menu
        //Go to Menu with screen transition towards North
        application().gotoMenuScreenSlideTransitionNorth();
    }
    if (&src == &menos)
    {
        //Interaction1
        //When menos clicked execute C++ code
        //Execute C++ code
        if((TIM7 ->PSC & 0xFFFF) < 2000){
        	
        	TIM7 -> PSC = TIM7 -> PSC + 1;
        
        }
    }
    if (&src == &mas)
    {
        //Interaction2
        //When mas clicked execute C++ code
        //Execute C++ code
        if((TIM7 ->PSC & 0xFFFF) > 1){
        	
        	TIM7 -> PSC = TIM7 -> PSC - 1;
        
        }
    }
}
